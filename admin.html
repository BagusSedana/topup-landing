<!doctype html>
<html lang="id">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Admin TopUp</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />
  <link rel="stylesheet" href="/assets/css/style.css" />
  <style>
    .muted{color:#8a8a8a}
    .small-note{background:#1f2937;color:#cbd5e1;border-radius:8px;padding:.25rem .5rem;display:inline-block}
    .status-badge{padding:.15rem .5rem;border-radius:999px;font-size:.75rem}
    .status-PENDING{background:#fef3c7;color:#92400e}
    .status-WAITING_PROOF{background:#e5e7eb;color:#374151}
    .status-DONE{background:#dcfce7;color:#166534}
    .status-FAILED{background:#fee2e2;color:#991b1b}
  </style>
</head>
<body class="bg-dark text-light">
  <div class="container py-4">
    <div class="d-flex align-items-center justify-content-between mb-3">
      <h1 class="h4 m-0">⚙️ Admin TopUp</h1>
      <!-- Field admin key (boleh disembunyikan kalau proxy inject ADMIN_KEY) -->
      <div class="d-flex gap-2">
        <input id="adminKey" type="password" class="form-control form-control-sm" placeholder="ADMIN_KEY" style="width:260px">
        <button id="btnRemember" class="btn btn-sm btn-outline-light">Remember</button>
      </div>
    </div>

    <div class="card bg-secondary-subtle border-0 mb-3">
      <div class="card-body">
        <div class="row g-2 align-items-center">
          <div class="col-12 col-md-3">
            <label class="form-label mb-1">Status</label>
            <select id="filterStatus" class="form-select">
              <option value="">Semua</option>
              <option value="WAITING_PROOF">WAITING_PROOF</option>
              <option value="PENDING">PENDING</option>
              <option value="DONE">DONE</option>
              <option value="FAILED">FAILED</option>
            </select>
          </div>
          <div class="col-12 col-md-6">
            <label class="form-label mb-1">Cari (Order/WA/Game/Item/Note)</label>
            <input id="searchQ" class="form-control" placeholder="ketik kata kunci... lalu Enter">
          </div>
          <div class="col-6 col-md-1">
            <label class="form-label mb-1">Limit</label>
            <select id="limit" class="form-select">
              <option>50</option><option selected>100</option><option>200</option>
            </select>
          </div>
          <div class="col-6 col-md-2 d-grid">
            <label class="form-label mb-1">&nbsp;</label>
            <button id="btnRefresh" class="btn btn-primary">Refresh</button>
          </div>
        </div>
      </div>
    </div>

    <p class="small muted mb-2">Tips: tekan <b>R</b> buat refresh cepat. <span id="countInfo"></span></p>

    <div class="table-responsive">
      <table class="table table-dark table-hover align-middle">
        <thead>
          <tr>
            <th>Order</th><th>User</th><th>Game</th><th>Nominal</th><th>Total</th><th>Bukti</th><th>Aksi</th>
          </tr>
        </thead>
        <tbody id="tbody">
          <tr><td colspan="7" class="text-center py-4">Belum ada data</td></tr>
        </tbody>
      </table>
    </div>
  </div>

  <!-- toast -->
  <div class="position-fixed bottom-0 end-0 p-3" style="z-index: 9999">
    <div id="toast" class="toast text-bg-dark border-0" role="alert">
      <div class="d-flex">
        <div id="toastMsg" class="toast-body">OK</div>
        <button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast"></button>
      </div>
    </div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>
  <script src="/assets/js/admin.js"></script>
</body>
</html>
